{"ast":null,"code":"var _jsxFileName = \"/Users/fabian/Documents/GitHub/demo-web-project-PentaTech/pages/index.js\";\nvar __jsx = React.createElement;\n\n/**\n * Index\n * @summary The home page of our website.\n */\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\n\nconst Home = props => {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, `Res: ${props.result}`), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }), __jsx(LoadingButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Check in\"));\n};\n\nconst displayNames = props => {\n  return __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, props.names);\n};\n\nconst LoadingButton = () => {\n  const {\n    0: isLoading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: isClicked,\n    1: setClicked\n  } = useState(false);\n  var data = \"\";\n  useEffect(() => {\n    if (isLoading) {\n      data = checkIn().then(props => {\n        setClicked(true);\n        setLoading(false);\n        return props.result;\n      });\n    }\n  }, [isLoading]);\n\n  const handleClick = () => setLoading(true);\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"primary\",\n    disabled: isLoading,\n    onClick: !isLoading ? handleClick : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, isLoading ? 'Loading…' : 'Click to load'), isClicked ? __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), data) : null);\n};\n\nconst checkIn = async () => {\n  try {\n    const res = await axios.get('http://localhost:5000/check-fabian');\n    return {\n      result: res.data.Success\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      result: 'Failed to check in members'\n    };\n  }\n};\n\nHome.getInitialProps = async () => {\n  try {\n    // call server at endpoint /search-title\n    const res = await axios.get('http://localhost:5000/ping'); // res.data is the JSON object returned which is { Success: ***data*** }\n\n    return {\n      result: res.data.Success\n    };\n  } catch (error) {\n    console.error(error);\n    return {\n      result: 'Failed to fetch data from server'\n    };\n  }\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/fabian/Documents/GitHub/demo-web-project-PentaTech/pages/index.js"],"names":["React","useState","useEffect","Layout","axios","Button","Home","props","result","displayNames","names","LoadingButton","isLoading","setLoading","isClicked","setClicked","data","checkIn","then","handleClick","res","get","Success","error","console","getInitialProps"],"mappings":"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","sourcesContent":["/**\n * Index\n * @summary The home page of our website.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\n\nconst Home = props => {\n    return (\n        <Layout>\n            {/* <h1>Media Tracker</h1>\n            <p>Home page</p> */}\n            <p>{`Res: ${props.result}`}</p>\n            <br />\n            <LoadingButton>Check in</LoadingButton>\n        </Layout>\n    );\n};\n\nconst displayNames = props => {\n    return (\n        <p>{props.names}</p>\n    );\n}\n\nconst LoadingButton = () => {\n    const [isLoading, setLoading] = useState(false);\n    const [isClicked, setClicked] = useState(false);\n    var data = \"\";\n\n    useEffect(() => {\n        if (isLoading) {\n            data = checkIn().then(props => {\n                setClicked(true);\n                setLoading(false);\n                return props.result;\n            });\n        }\n    }, [isLoading]);\n\n    const handleClick = () => setLoading(true);\n\n    return (\n        <div>\n            <Button\n                variant=\"primary\"\n                disabled={isLoading}\n                onClick={!isLoading ? handleClick : null}\n            >\n                {isLoading ? 'Loading…' : 'Click to load'}\n            </Button>\n            {\n                isClicked ?\n                    <p><br />{data}</p>\n                    :\n                    null\n            }\n        </div>\n    );\n}\n\nconst checkIn = async () => {\n    try {\n        const res = await axios.get('http://localhost:5000/check-fabian');\n        return { result: res.data.Success }\n    } catch (error) {\n        console.error(error);\n        return { result: 'Failed to check in members' }\n    }\n}\n\nHome.getInitialProps = async () => {\n    try {\n        // call server at endpoint /search-title\n        const res = await axios.get('http://localhost:5000/ping');\n        // res.data is the JSON object returned which is { Success: ***data*** }\n        return { result: res.data.Success }\n    } catch (error) {\n        console.error(error);\n        return { result: 'Failed to fetch data from server' }\n    }\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}