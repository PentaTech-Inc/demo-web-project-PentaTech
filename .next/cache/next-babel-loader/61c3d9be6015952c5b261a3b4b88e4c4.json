{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/fabian/Documents/GitHub/demo-web-project-PentaTech/pages/index.js\";\nvar __jsx = React.createElement;\n\n/**\n * Index\n * @summary The home page of our website.\n */\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\n\nvar Home = function Home(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Res: \".concat(props.result)), __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }), __jsx(LoadingButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), __jsx(\"img\", {\n    src: props.qr,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }));\n};\n/** Component for interactive button */\n\n\nvar LoadingButton = function LoadingButton() {\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      isClicked = _useState2[0],\n      setClicked = _useState2[1];\n\n  var _useState3 = useState([]),\n      names = _useState3[0],\n      setNames = _useState3[1];\n\n  useEffect(function () {\n    if (isLoading) {\n      checkIn().then(function (props) {\n        setNames(props.result);\n        setClicked(true);\n        setLoading(false);\n      });\n    }\n  }, [isLoading]);\n\n  var handleClick = function handleClick() {\n    return setLoading(true);\n  };\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(Button, {\n    variant: \"primary\",\n    disabled: isLoading,\n    onClick: !isLoading ? handleClick : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, isLoading ? 'Loading…' : 'Check in'), isClicked ? __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), names.map(function (name, index) {\n    return __jsx(\"p\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, name, __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }));\n  })) : null);\n}; // ADD YOUR GET ROUTE, YOUR NAME IN PARAM FOR FUNCTION, AND YOUR RESPONSE IN RETURN OBJECT\n\n\nvar checkIn =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", axios.all([axios.get('http://localhost:5000/check-fabian'), axios.get('http://localhost:5000/check-miguel'), axios.get('http://localhost:5000/check-chy')]).then(axios.spread(function (fabian, miguel, chy) {\n              return {\n                result: [fabian.data.Success, miguel.data.Success, chy.data.Success]\n              };\n            })).then()[\"catch\"](function (error) {\n              console.error(error);\n              return {\n                result: 'Failed to check in members'\n              };\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function checkIn() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nHome.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee2() {\n  var res, res1;\n  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return axios.get('http://localhost:5000/ping');\n\n        case 3:\n          res = _context2.sent;\n          _context2.next = 6;\n          return axios.get('http://localhost:5000/qrcode');\n\n        case 6:\n          res1 = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            result: res.data.Success,\n            qr: res1.data.QRCode\n          });\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error(_context2.t0);\n          return _context2.abrupt(\"return\", {\n            result: 'Failed to fetch data from server'\n          });\n\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _callee2, null, [[0, 10]]);\n}));\nexport default Home;","map":{"version":3,"sources":["/Users/fabian/Documents/GitHub/demo-web-project-PentaTech/pages/index.js"],"names":["React","useState","useEffect","Layout","axios","Button","Home","props","result","qr","LoadingButton","isLoading","setLoading","isClicked","setClicked","names","setNames","checkIn","then","handleClick","map","name","index","all","get","spread","fabian","miguel","chy","data","Success","error","console","getInitialProps","res","res1","QRCode"],"mappings":"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","sourcesContent":["/**\n * Index\n * @summary The home page of our website.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\n\nconst Home = props => {\n    return (\n        <Layout>\n            {/* <h1>Media Tracker</h1>\n            <p>Home page</p> */}\n            <p>{`Res: ${props.result}`}</p>\n            <br />\n            <LoadingButton />\n            <img src={props.qr} />\n        </Layout>\n    );\n};\n\n/** Component for interactive button */\nconst LoadingButton = () => {\n    const [isLoading, setLoading] = useState(false);\n    const [isClicked, setClicked] = useState(false);\n    const [names, setNames] = useState([]);\n\n    useEffect(() => {\n        if (isLoading) {\n            checkIn().then(props => {\n                setNames(props.result);\n                setClicked(true);\n                setLoading(false);\n            });\n        }\n    }, [isLoading]);\n\n    const handleClick = () => setLoading(true);\n\n    return (\n        <div>\n            <Button\n                variant=\"primary\"\n                disabled={isLoading}\n                onClick={!isLoading ? handleClick : null}\n            >\n                {isLoading ? 'Loading…' : 'Check in'}\n            </Button>\n            {\n                isClicked ?\n                    <div>\n                        <br />\n                        {names.map((name, index) => {\n                            return (\n                                <p key={index}>{name}<br /></p>\n                            );\n                        })}\n                    </div>\n                    :\n                    null\n            }\n        </div>\n    );\n}\n\n// ADD YOUR GET ROUTE, YOUR NAME IN PARAM FOR FUNCTION, AND YOUR RESPONSE IN RETURN OBJECT\nconst checkIn = async () => {\n    return axios.all([\n        axios.get('http://localhost:5000/check-fabian'),\n        axios.get('http://localhost:5000/check-miguel'),\n        axios.get('http://localhost:5000/check-chy'),\n    ]).then(axios.spread(function (fabian, miguel, chy) {\n        return { result: [fabian.data.Success, miguel.data.Success, chy.data.Success] }\n    })).then().catch(error => {\n        console.error(error);\n        return { result: 'Failed to check in members' }\n    });\n}\n\nHome.getInitialProps = async () => {\n    try {\n        // call server at endpoint /search-title\n        const res = await axios.get('http://localhost:5000/ping');\n        // res.data is the JSON object returned which is { Success: ***data*** }\n        const res1 = await axios.get('http://localhost:5000/qrcode');\n        return {\n            result: res.data.Success,\n            qr: res1.data.QRCode\n        }\n    } catch (error) {\n        console.error(error);\n        return { result: 'Failed to fetch data from server' }\n    }\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}